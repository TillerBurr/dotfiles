- defaults:
      link:
          relink: true

- clean: ["~"]

- sudo:
    -shell:
        - command: ./asdf/apt_install.sh
          stdout: true
          stderr: true

- shell:
    - command: ./asdf/install_asdf.sh
      stdout: true
      stderr: true
    - command: sh -c "$(curl -fsSL https://starship.rs/install.sh)" -y -f


- asdf:
    - asdf_path: ~/.asdf/asdf.sh
    - plugin: python
      url: https://github.com/tuvistavie/asdf-python.git
      global: 3.11.1
      versions:
        - 3.11.1
    - plugin: nodejs
      url: https://github.com/asdf-vm/asdf-nodejs.git
    - plugin: pnpm
      url: https://github.com/jonathanmorley/asdf-pnpm


- link:
    ~/.gitconfig: .gitconfig
    ~/.config/fish/config.fish:
      path: fish/config.fish
      force: true
    ~/.config/fish/functions/up.fish: fish/functions/up.fish
    ~/.config/fish/functions/cat.fish: fish/functions/cat.fish
    ~/.config/fish/functions/ls.fish: fish/functions/ls.fish
    ~/.config/fish/functions/mkcd.fish: fish/functions/mkcd.fish
    ~/.config/starship.toml: starship.toml


- create:
      - ~/code

- shell:
      - command: ./rust/install_rust.sh
        stdout: true
        stderr: true
      - command: ./fish/install.sh
        stderr: true
        stdout: true
