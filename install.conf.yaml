- defaults:
      link:
          relink: true

- clean: ["~"]

- sudo:
    -shell:
        - command: ./apt_install.sh
          stdout: true
          stderr: true

- shell:
    - command: sh ./asdf/install_asdf.sh
      stdout: true
      stderr: true
    - command: sh -c "$(curl -fsSL https://starship.rs/install.sh)" -y -f


- asdf:
    - asdf_path: ~/.asdf/asdf.sh
    - plugin: python
      url: https://github.com/tuvistavie/asdf-python.git
      global: 3.11.1
      versions:
        - 3.11.1
    - plugin: pipx
      url: https://github.com/amrox/asdf-pyapp.git
      global: 1.1.0
      versions:
        - 1.1.0
    - plugin: nodejs
      url: https://github.com/asdf-vm/asdf-nodejs.git
    - plugin: pnpm
      url: https://github.com/jonathanmorley/asdf-pnpm



- create:
      - ~/code

- pipx:
    - file: python/pipx-requirements.txt

- shell:
      - command: sh ./rust/install_rust.sh
        stdout: true
        stderr: true
      - command: sh ./fish/install.sh
        stderr: true
        stdout: true

- link:
    ~/.gitconfig: .gitconfig
    ~/.config/fish/config.fish:
      path: fish/config.fish
      force: true
      create: true
    ~/.config/fish/functions/up.fish:
      path: fish/functions/up.fish
      create: true
    ~/.asdf/completions/asdf.fish:
      path: ~/.config/fish/completions
      create: true
    ~/.config/fish/functions/cat.fish:
      path: fish/functions/cat.fish
      create: true
    ~/.config/fish/functions/ls.fish:
      path: fish/functions/ls.fish
      create: true
    ~/.config/fish/functions/mkcd.fish:
      path: fish/functions/mkcd.fish
      create: true
    ~/.config/starship.toml: starship.toml